version: '3.7'

x-defaults: &defaults
  image: ghcr.io/beamer-bridge/beamer-agent:0.1.3
  volumes:
    - ./data:/data
  logging:
    driver: json-file
    options:
      max-size: "1024m"
      max-file: "50"

services:
  agent-optimism-to-boba:
    << : *defaults
    restart: always
    # the agent command is included in the ENTRYPOINT declaration
    command: --config /data/agent.conf --source-chain optimism --target-chain boba

  agent-boba-to-optimism:
    << : *defaults
    restart: always
    # the agent command is included in the ENTRYPOINT declaration
    command: --config /data/agent.conf --source-chain boba --target-chain optimism
